<!doctype html>
<html>
  <head><%- include('partials/head') %></head>
  <body>
    <%- include('partials/appbar', { back: '/dashboard?scenario=' + scenario }) %>
    <div class="container">
      <div class="card center" data-delay-ms="2200" data-auto-next="/reinvest/eligibility/result?scenario=<%= scenario %>">
        <div class="step">Step 2 of 3</div>
        <p class="h2">Validating eligibility...</p>
        <p class="muted" style="margin:6px 0 0;">We confirm product eligibility before reinvesting.</p>
        <div class="loader"></div>
        <% const eligibilityOutcome = scenario === "noteligible" ? "fail" : "pass"; %>
        <% const eligibilitySteps = eligibilityOutcome === "fail"
          ? "System: Load product rules|System: Validate wallet balance|System: Eligibility failed"
          : "System: Load product rules|System: Validate wallet balance|System: Eligibility passed"; %>
        <div class="process-feed" data-process-feed data-outcome="<%= eligibilityOutcome %>" data-steps="<%= eligibilitySteps %>"></div>
        <p class="muted" style="margin-top:10px;">Please do not refresh.</p>
      </div>

      <div class="card">
        <p class="h2">Demo note</p>
        <p class="muted" style="margin:6px 0 0;">
          Outcome is controlled by the scenario: <span class="kbd"><%= scenario %></span>
        </p>
      </div>
    </div>
    <%- include('partials/footer') %>
  </body>
</html>
